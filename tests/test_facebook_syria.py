from src.suckas import facebook_syria
import os

sample_post = {u'picture': u'https://fbcdn-photos-c-a.akamaihd.net/hphotos-ak-frc1/t1.0-0/10170979_646574818756901_8993210663651738100_s.jpg', u'likes': {u'paging': {u'cursors': {u'after': u'MTAwMDAxODkxMjk3NTM2', u'before': u'MTAwMDA2NDgwNjE1NDA4'}, u'next': u'https://graph.facebook.com/v1.0/309212095826510_647220582025658/likes?access_token=249359178569094|Qws7J9ymXRaQGu-8QAaSx9NQc6U&limit=25&after=MTAwMDAxODkxMjk3NTM2'}, u'data': [{u'id': u'100006480615408', u'name': u'\u0633\u0627\u0631\u0629 \u0627\u0644\u0634\u0627\u0645'}, {u'id': u'100003198292648', u'name': u'Dandoon Alsahen'}, {u'id': u'100001511869158', u'name': u'\u0645\u062d\u0645\u062f \u0639\u0628\u062f \u0627\u0644\u0631\u0632\u0627\u0642'}, {u'id': u'100007227484616', u'name': u'Abdalbaset Sy'}, {u'id': u'100004749994376', u'name': u'Bahaa AbdAllah'}, {u'id': u'100000069901415', u'name': u'Asma Kazkaz'}, {u'id': u'100008305983786', u'name': u'\u0645\u062d\u0645\u062f \u0627\u0644\u0639\u0648\u0636'}, {u'id': u'100002097840887', u'name': u'Medoo Bitar'}, {u'id': u'100001802648423', u'name': u'Miryan Bichnak'}, {u'id': u'100007715887341', u'name': u'Fesih Nebo'}, {u'id': u'100006676782551', u'name': u'Molham Alsheikh Ali'}, {u'id': u'100000549383077', u'name': u'Anwar Chabouq'}, {u'id': u'100007866244655', u'name': u'Jan Afrin Afrin'}, {u'id': u'655975693', u'name': u'Ayman Nahle'}, {u'id': u'100005029563434', u'name': u'Khaled Refaee'}, {u'id': u'100004422158304', u'name': u'Sara Naef'}, {u'id': u'100004979614637', u'name': u'\ufed7\ufe8e\ufe91\ufeee\ufee5 \ufe83\ufedf\ufeb4\ufeee\ufead\ufef1'}, {u'id': u'100008078229278', u'name': u'Wafaa Khaled'}, {u'id': u'683480250', u'name': u'Basel Asfari'}, {u'id': u'100002267631964', u'name': u'Nizar Mortada'}, {u'id': u'100006003365025', u'name': u'Nawar Alomer'}, {u'id': u'100003270560999', u'name': u'Gso Black'}, {u'id': u'1014274094', u'name': u'Baraa Al Jomaa'}, {u'id': u'100004940701925', u'name': u'\u063a\u0632\u0644 \u0637\u0644\u0627\u0633'}, {u'id': u'100001891297536', u'name': u'Totta Paradise'}]}, u'from': {u'category': u'Non-profit organization', u'name': u'\u062f\u0648\u0644\u062a\u064a', u'id': u'309212095826510'}, u'comments': {u'paging': {u'cursors': {u'after': u'MQ==', u'before': u'Mg=='}}, u'data': [{u'from': {u'id': u'100003509371884', u'name': u'Dimah Kabbani'}, u'like_count': 0, u'can_remove': False, u'created_time': u'2014-05-07T17:35:44+0000', u'message': u'\u0647\u0627\u0644\u062a\u0635\u0645\u064a\u0645 \u0631\u0627\u0626\u0639 \u0628\u0627\u0644\u0641\u0639\u0644', u'id': u'646574818756901_647234752024241', u'user_likes': False}, {u'from': {u'id': u'100004640882625', u'name': u'Nour Al-Bahnasi'}, u'like_count': 0, u'can_remove': False, u'created_time': u'2014-05-07T17:31:35+0000', u'message': u'\U0001f622\u0635\u062d\u064a\u062d .....', u'id': u'646574818756901_647233475357702', u'user_likes': False}]}, u'privacy': {u'value': u''}, u'object_id': u'646574818756901', u'updated_time': u'2014-05-07T17:35:44+0000', u'link': u'https://www.facebook.com/photo.php?fbid=646574818756901&set=a.353804228033963.81628.309212095826510&type=1&relevant_count=1', u'shares': {u'count': 18}, u'created_time': u'2014-05-07T17:00:00+0000', u'message': u'#\u062f\u0648\u0644\u062a\u064a #\u0633\u0648\u0631\u064a\u0627 #Syria #Dawlaty #Poster #Arts #War\n\nUntitled | \u0628\u062f\u0648\u0646 \u0639\u0646\u0648\u0627\u0646\nBy: Sam Vean\nSource: La Revolution Syrienne en Fran\xe7ais\n\nhttp://dawlaty.org/visualarts/bdwn-nwn-121', u'type': u'photo', u'id': u'309212095826510_647220582025658', u'status_type': u'added_photos', u'icon': u'https://fbstatic-a.akamaihd.net/rsrc.php/v2/yz/r/StEh3RhPvjk.gif'}

def test():
    item = facebook_syria.transform(sample_post, {'street':'Syria'}, 'Syria')
    assert item['remoteID'] == sample_post['object_id']
    assert item['content'] == sample_post['message']
    assert item['image'] == sample_post['picture']
    assert 'addressComponents' in item['geo']